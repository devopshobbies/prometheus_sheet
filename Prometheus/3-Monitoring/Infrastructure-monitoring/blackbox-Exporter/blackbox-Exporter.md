## reference
https://github.com/prometheus/blackbox_exporter
https://prometheus.io/docs/instrumenting/exporters/
https://prometheus.io/docs/guides/multi-target-exporter/
https://grafana.com/grafana/dashboards/13659-blackbox-exporter-http-prober/
https://grafana.com/grafana/dashboards/20338-blackbox-exporter-icmp/
https://learn.microsoft.com/en-us/azure/architecture/patterns/health-endpoint-monitoring
https://github.com/DannyRavi/cloud_software_farsi/blob/main/docs/Health%20Endpoint%20Monitoring%20pattern.md
### **Blackbox Exporter ฺุณุชุ**  
โ**Blackbox Exporter** ฺฉ ุงุจุฒุงุฑ ูุชูุจุงุฒ (Open-Source) ุงุฒ ุงฺฉูุณุณุชู **Prometheus** ุงุณุช ฺฉู ุจุฑุง **ูุงูุชูุฑูฺฏ ุฎุงุฑุฌ (External Monitoring)** ุณุฑูุณูุง ุงุณุชูุงุฏู ูุดูุฏ. ุจุฑุฎูุงู **exporterูุง ูุนููู** (ูุซู Node Exporter ฺฉู ูุชุฑฺฉูุง ุฏุงุฎู ุณุณุชู ุฑุง ุฌูุนุขูุฑ ูฺฉูุฏ)ุ Blackbox Exporter ุงุฒ **ุฎุงุฑุฌ ุณุณุชู** ุจู ุณุฑูุณูุง **ูพุฑูุจ (Probe)** ูุฒูุฏ ู ุณูุงูุช ุขููุง ุฑุง ุจุฑุฑุณ ูฺฉูุฏ.

![image](../../../../src/blackbox.png)

![image](../../../../src/blackbox_servers.png)


### **ฺฉุงุฑุจุฑุฏ Blackbox Exporter**  
ุงู ุงุจุฒุงุฑ ุจุฑุง ฺฺฉ ฺฉุฑุฏู **ุฏุฑ ุฏุณุชุฑุณ ุจูุฏู (Availability)** ู **ุนููฺฉุฑุฏ (Performance)** ุณุฑูุณูุง ูุฎุชูู ุงุฒ ุทุฑู ูพุฑูุชฺฉููุง ุฒุฑ ุงุณุชูุงุฏู ูุดูุฏ:  
1. **HTTP/HTTPS**:  
   - ุจุฑุฑุณ ูุถุนุช ูุจุณุงุชูุง (ูุซูุงู ุขุง HTTP 200 ุจุฑูฺฏุฑุฏุงูุฏุ).  
   - ุจุฑุฑุณ SSL/TLS (ุชุงุฑุฎ ุงููุถุงุ ุงุนุชุจุงุฑ ฺฏูุงู).  
   - ุงูุฏุงุฒูฺฏุฑ ุฒูุงู ูพุงุณุฎ (Latency).  
2. **TCP**:  
   - ุจุฑุฑุณ ูพูุฑุชูุง ุจุงุฒ (ูุซูุงู ุขุง ุฏุชุงุจุณ MySQL ุฑู ูพูุฑุช 3306 ูพุงุณุฎ ูุฏูุฏุ).  
3. **ICMP (Ping)**:  
   - ุจุฑุฑุณ ุงูฺฉู ฺฉ ุณุฑูุฑ ุง ุฏุณุชฺฏุงู ุดุจฺฉู ุฒูุฏู ุงุณุช (ูุซู `ping` ูุนููู).  
4. **DNS**:  
   - ุจุฑุฑุณ ูพุงุณุฎ DNS (ูุซูุงู ุขุง ฺฉ ุฑฺฉูุฑุฏ ุฎุงุต ุจู ุฏุฑุณุช resolve ูุดูุฏุ).  
5. GRPC:
- ุจุฑุฑุณ ุงุฑุชุจุงุทโูุง GRPC
---

### **ฺุฑุง ุงุฒ Blackbox Exporter ุงุณุชูุงุฏู ฺฉููุ**  
โ **ูุงูุชูุฑูฺฏ ุฎุงุฑุฌ (External Health Checks)**:  
   - ูุซู ฺฉ ฺฉุงุฑุจุฑ ูุงูุน ุงุฒ ุจุฑูู ุณุณุชูุ ุณุฑูุณ ุฑุง ฺฺฉ ูฺฉูุฏ (ุจุฑุฎูุงู exporterูุง ุฏุงุฎู ูุซู Node Exporter).  
โ **ุชุดุฎุต ูุดฺฉูุงุช ุดุจฺฉู**:  
   - ุงฺฏุฑ ุณุฑูุณ ุงุฒ ุฏุงุฎู ุณุงูู ุจุงุดุฏุ ุงูุง ุงุฒ ุจุฑูู ุฏุฑ ุฏุณุชุฑุณ ูุจุงุดุฏุ ุงู ุงุจุฒุงุฑ ูุดฺฉู ุฑุง ุดูุงุณุง ูฺฉูุฏ.  
โ **ูุดุฏุงุฑุฏู (Alerting)**:  
   - ูุชูุงู ุฏุฑ **Prometheus + Alertmanager** ููุงูู ุชุนุฑู ฺฉุฑุฏ ฺฉู ูุซูุงู ุงฺฏุฑ ฺฉ ูุจุณุงุช down ุดุฏุ ุงุทูุงุน ุฏูุฏ.  

---

### **ูุซุงู ุชูุธู Blackbox Exporter**  
1. **ุฏุงูููุฏ ู ุงุฌุฑุง**:  
   ```sh
   ./blackbox_exporter --config.file=blackbox.yml
   ```
2. **ุชูุธู Prometheus ุจุฑุง scrape ฺฉุฑุฏู**:  
   ```yaml
   scrape_configs:
     - job_name: 'blackbox-http'
       metrics_path: /probe
       params:
         module: [http_2xx]  # ูุงฺูู ุจุฑุฑุณ HTTP
       static_configs:
         - targets:
           - https://example.com  # ูุจุณุงุช ฺฉู ูุฎูุงูู ฺฺฉ ฺฉูู
       relabel_configs:
         - source_labels: [__address__]
           target_label: __param_target
         - source_labels: [__param_target]
           target_label: instance
         - target_label: __address__
           replacement: localhost:9115  # ุขุฏุฑุณ Blackbox Exporter
   ```
3. **ููุงุด ูุชุงุฌ ุฏุฑ Grafana**:  
   - ูุชูุงูุฏ **ุฒูุงู ูพุงุณุฎุ ูุถุนุช SSL ู ...** ุฑุง ุฏุฑ ุฏุงุดุจูุฑุฏ Grafana ูุดุงูุฏู ฺฉูุฏ.  

ูุซุงู:

![image](../../../../src/example_blackbox.png)

---

### **ุชูุงูุช Blackbox Exporter ุจุง ุณุงุฑ Exporters**  
| ุงุจุฒุงุฑ | ููุน ูุงูุชูุฑูฺฏ | ูุซุงู ุงุณุชูุงุฏู |  
|--------|----------------|----------------|  
| **Node Exporter** | ุฏุงุฎู (Internal) | ุฌูุนุขูุฑ CPUุ Memoryุ Disk |  
| **Blackbox Exporter** | ุฎุงุฑุฌ (External) | ฺฺฉ ฺฉุฑุฏู HTTPุ TCPุ Ping |  
| **Grok Exporter** | ูพุฑุฏุงุฒุด ูุงฺฏูุง | ุงุณุชุฎุฑุงุฌ ูุชุฑฺฉ ุงุฒ ูุงฺฏูุง |  

---

### **ุฌูุน ุจูุฏ**  
ุงฺฏุฑ ูุฎูุงูุฏ **ูุจุณุงุชูุงุ ูพูุฑุชูุงุ DNS ู ...** ุฑุง ุงุฒ ุฏุฏ ฺฉุงุฑุจุฑุงู ุจุฑูู ูุงูุชูุฑ ฺฉูุฏุ **Blackbox Exporter** ุจูุชุฑู ฺฏุฒูู ุงุณุช. ุงู ุงุจุฒุงุฑ ุจู ุดูุง ฺฉูฺฉ ูฺฉูุฏ ูุดฺฉูุงุช ุฑุง ฺฉู ููฺฉู ุงุณุช ุฏุฑ ูุงูุชูุฑูฺฏ ุฏุงุฎู ุฏุฏู ูุดููุฏุ ุดูุงุณุง ฺฉูุฏ. ๐  


-----------

โ **Grok Exporter** ฺฉ ุงุจุฒุงุฑ ูุชูุจุงุฒ (Open-Source) ุงุณุช ฺฉู ุจุฑุง ุงุณุชุฎุฑุงุฌ ู ุชุจุฏู ูุงฺฏูุง ุณุงุฎุชุงุฑุงูุชู (structured logs) ุจู **ูุชุฑฺฉูุง Prometheus** ุงุณุชูุงุฏู ูุดูุฏ. ุงู ุงุจุฒุงุฑ ูุนูููุงู ุฏุฑ ุณุณุชููุง ูุงูุชูุฑูฺฏ ู observability ุจุฑุง ุฌูุนุขูุฑ ู ุชุญูู ูุงฺฏูุง ุจู ฺฉุงุฑ ูุฑูุฏ.

### **ฺฉุงุฑุจุฑุฏ Grok Exporter:**
- **ูพุงุฑุณ ฺฉุฑุฏู ูุงฺฏูุง ุจุง ุงูฺฏููุง Grok**:  
 โ Grok ฺฉ ุฒุจุงู ุงูฺฏู (pattern matching) ุงุณุช ฺฉู ุจุฑุง ุชุฌุฒู ู ุชุญูู ูุชู ูุงฺฏูุง ุงุณุชูุงุฏู ูุดูุฏ (ูุดุงุจู regular expressions ุงูุง ุจุง ูุงุจูุชูุง ุจุดุชุฑ).
- **ุชุจุฏู ูุงฺฏูุง ุจู ูุชุฑฺฉูุง Prometheus**:  
  ูพุณ ุงุฒ ุงุณุชุฎุฑุงุฌ ุฏุงุฏููุง ุงุฒ ูุงฺฏูุงุ ุขููุง ุฑุง ุจู ูุฑูุช ูุงุจูุฎูุงูุฏู ุชูุณุท **Prometheus** ุชุจุฏู ูฺฉูุฏ.
- **ฺฉูพุงุฑฺู ุดุฏู ุจุง ูพุดุชู ูุงูุชูุฑูฺฏ**:  
  ุงุฒ ุขูุฌุง ฺฉู ุฎุฑูุฌ ุขู ุจุง **Prometheus** ุณุงุฒฺฏุงุฑ ุงุณุชุ ูุชูุงู ุงุฒ **Grafana** ุจุฑุง ููุงุด ุฏุงุฏููุง ุงุณุชูุงุฏู ฺฉุฑุฏ.

### **ฺุฑุง ุงุฒ Grok Exporter ุงุณุชูุงุฏู ฺฉููุ**
- ุฒูุงู ฺฉู ูุงฺฏูุง ุดูุง ุณุงุฎุชุงุฑุงูุชู ูุณุชูุฏ ู ูุงุฒ ุฏุงุฑุฏ ุฏุงุฏููุง ุฎุงุต ุฑุง ุงุฒ ุขููุง ุงุณุชุฎุฑุงุฌ ฺฉูุฏ.
- ุฒูุงู ฺฉู ูุฎูุงูุฏ ูุงฺฏูุง ุฑุง ุจู ุตูุฑุช **ูุชุฑฺฉูุง ุฒูุงู (time-series)** ุฏุฑ Prometheus ุฐุฎุฑู ฺฉูุฏ.
- ุจุฑุง ุงุฌุงุฏ **ูุดุฏุงุฑ (alerting)** ุจุฑ ุงุณุงุณ ูุญุชูุง ูุงฺฏูุง.

### **ูุซุงู ุงุณุชูุงุฏู ุงุฒ Grok Exporter:**
ูุฑุถ ฺฉูุฏ ฺฉ ูุงฺฏ ุฏุงุฑุฏ ฺฉู ุดุงูู ุฒูุงู ูพุงุณุฎุฏู (response time) ุงุณุช:
```
2023-10-01 12:00:00 [INFO] Request completed in 120ms
```
ุจุง ุงุณุชูุงุฏู ุงุฒ **Grok Exporter** ูุชูุงูุฏ ฺฉ ุงูฺฏู ุชุนุฑู ฺฉูุฏ ุชุง ุฒูุงู ูพุงุณุฎ (120ms) ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉูุฏ ู ุจู Prometheus ฺฏุฒุงุฑุด ุฏูุฏ.

### **ูุญูู ุงุฌุฑุง:**
1. **ุชูุธู ุงูฺฏู Grok** ุฏุฑ ูุงู ฺฉุงููฺฏ (ูุซูุงู `config.yml`).
2. **ุงุฌุฑุง Exporter** ุจู ุตูุฑุช ุฏููู (Daemon) ุง ุณุฑูุณ.
3. **ุชูุธู Prometheus** ุจุฑุง scrape ฺฉุฑุฏู ูุชุฑฺฉูุง Grok Exporter.

### **ุชูุงูุช ุจุง ุณุงุฑ Exporters:**
โ- **Promtail (Loki)**: ุจุฑุง ุงุฑุณุงู ูุงฺฏูุง ุจู **Loki** ุงุณุชูุงุฏู ูุดูุฏ.
โ- **Fluentd/Fluent Bit**: ุจุฑุง ุฌูุนุขูุฑ ู ูพุฑุฏุงุฒุด ูุงฺฏูุง ุจู ุตูุฑุช ุนูููุชุฑ.
โ- **Grok Exporter**: ูุฎุตูุต ุชุจุฏู ูุงฺฏูุง ุจู **ูุชุฑฺฉูุง Prometheus** ุงุณุช.

ุงฺฏุฑ ูุงุฒ ุจู ุชุญูู ูุงฺฏูุง ู ุชุจุฏู ุขููุง ุจู ูุชุฑฺฉ ุฏุงุฑุฏุ **Grok Exporter** ฺฉ ุงูุชุฎุงุจ ููุงุณุจ ุงุณุช. 

------------

### **ICMP RTT ฺุณุชุ**  
ุกุก**ICMP RTT** (ูุฎูู **Round-Trip Time**) ูุฏุช ุฒูุงู ุงุณุช ฺฉู ุทูู ูฺฉุดุฏ ุชุง ฺฉ ุจุณุชู **ICMP** (ูุซู Ping) ุงุฒ ูุจุฏุฃ ุจู ููุตุฏ ุจุฑูุฏ ู ูพุงุณุฎ ุขู ุจุฑฺฏุฑุฏุฏ. ุงู ูุนุงุฑ ุจุฑุง ุงูุฏุงุฒูฺฏุฑ **ุชุฃุฎุฑ ุดุจฺฉู (Network Latency)** ู ุณูุงูุช ุงุชุตุงู ุงุณุชูุงุฏู ูุดูุฏ.

---

### **ุฌุฒุฆุงุช ูู ICMP RTT**
1. **ูุญูู ูุญุงุณุจู**:  
   - ุฏุณุชฺฏุงู ูุจุฏุฃ ฺฉ ุจุณุชู **ICMP Echo Request** (Ping) ููุฑุณุชุฏ.  
   - ููุตุฏ ูพุณ ุงุฒ ุฏุฑุงูุชุ **ICMP Echo Reply** ุงุฑุณุงู ูฺฉูุฏ.  
   - **RTT = ุฒูุงู ุงุฑุณุงู Request - ุฒูุงู ุฏุฑุงูุช Reply**.  

2. **ูุงุญุฏ ุงูุฏุงุฒูฺฏุฑ**:  
   - ูุนูููุงู ุจุฑ ุญุณุจ **ููุซุงูู (ms)** ฺฏุฒุงุฑุด ูุดูุฏ.  
   - ูุซุงู:  
     ```
     $ ping google.com
     PING google.com (142.250.190.46): 56 data bytes
     64 bytes from 142.250.190.46: icmp_seq=0 ttl=116 time=12.345 ms  <-- ุงู RTT ุงุณุช!
     ```

3. **ุนูุงูู ูุคุซุฑ ุจุฑ RTT**:  
   - ูุงุตูู ุฌุบุฑุงูุง ุจู ูุจุฏุฃ ู ููุตุฏ.  
   - ุงุฒุฏุญุงู ุดุจฺฉู (Traffic Congestion).  
   - ฺฉูุช ุฒุฑุณุงุฎุช ุดุจฺฉู (ูุซู ุฑูุชุฑูุงุ ฺฉุงุจููุง).  
   - ุจุงุฑ ูพุฑุฏุงุฒุด ุฑู ุณุฑูุฑ ููุตุฏ.  

---

### **ฺฉุงุฑุจุฑุฏูุง ICMP RTT**
- **ุชุดุฎุต ูุดฺฉูุงุช ุดุจฺฉู**:  
  - ุงฺฏุฑ RTT ุจูุทูุฑ ุบุฑุนุงุฏ ุจุงูุง ุจุงุดุฏ (**ูุซูุงู >500ms**)ุ ูุดุงูุฏููุฏู ูุดฺฉู ุฏุฑ ุดุจฺฉู ุงุณุช.  
- **ูุงูุชูุฑูฺฏ ฺฉูุช ุณุฑูุณ**:  
  - ุฏุฑ ุงุจุฒุงุฑูุง ูุซู **Prometheus + Blackbox Exporter**ุ RTT ุจุฑุง ูุงูุชูุฑูฺฏ ICMP ุงุณุชูุงุฏู ูุดูุฏ.  
- **ุจูููุณุงุฒ ูุณุฑุงุจ**:  
  - ููุงุณู RTT ุจู ูุณุฑูุง ูุฎุชูู ุจุฑุง ุงูุชุฎุงุจ ุจูุชุฑู Route.  

---

### **ููููู ุงุณุชูุงุฏู ุฏุฑ Blackbox Exporter**
ุงฺฏุฑ ูุฎูุงูุฏ **RTT ุฏุณุชฺฏุงููุง ุดุจฺฉู** ุฑุง ุจุง Prometheus ูุงูุชูุฑ ฺฉูุฏุ ุฏุฑ ูุงู ฺฉุงููฺฏ Blackbox ุงูฺฏููู ุชูุธู ูุดูุฏ:  
```yaml
modules:
  icmp_check:
    prober: icmp
    timeout: 5s
    icmp:
      preferred_ip_protocol: "ipv4"
```
ุณูพุณ ุฏุฑ Prometheus:  
```yaml
scrape_configs:
  - job_name: 'blackbox-icmp'
    metrics_path: /probe
    params:
      module: [icmp_check]
    static_configs:
      - targets:
        - 8.8.8.8  # ูุฏู ููุฑุฏ ูุธุฑ (ูุซู DNS ฺฏูฺฏู)
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: localhost:9115  # ุขุฏุฑุณ Blackbox Exporter
```

---

### **ูุชุฑฺฉูุง ูุฑุชุจุท ุฏุฑ Prometheus**
ูพุณ ุงุฒ ุฑุงูุงูุฏุงุฒุ ุงู ูุชุฑฺฉูุง ูุงุจู ูุดุงูุฏูุงูุฏ:  
- `probe_icmp_duration_seconds`: ุฒูุงู RTT ุจุฑ ุญุณุจ ุซุงูู.  
- `probe_success`: ูุถุนุช ุฏุณุชุฑุณ (1 = ููููุ 0 = ุฎุทุง).  

---

### **ุชูุงูุช RTT ุจุง TTL**
- ุกุก**RTT**: ุฒูุงู ุฑูุช ู ุจุฑฺฏุดุช ุจุณุชู.  
- ุกุก**TTL** (Time To Live): ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ hopูุง ฺฉู ุจุณุชู ูุชูุงูุฏ ุท ฺฉูุฏ ูุจู ุงุฒ ุญุฐู ุดุฏู.  

ูุซุงู ุฎุฑูุฌ Ping:  
```
64 bytes from 8.8.8.8: icmp_seq=1 ttl=117 time=9.67 ms
^^^^^^^^^^^^^^^^^^^^^         ^^^^       ^^^^^^^^^^
ุงูุฏุงุฒู ูพุงุณุฎ                   TTL        RTT
```

---

### **ุฌูุนุจูุฏ**  
- **ICMP RTT** ูุนุงุฑ ฺฉูุฏ ุจุฑุง ุณูุฌุด ุณุฑุนุช ู ุณูุงูุช ุดุจฺฉู ุงุณุช.  
- ุฏุฑ ูุงูุชูุฑูฺฏ ุจุง **Blackbox Exporter**ุ ูุชูุงูุฏ ุงุฒ ุขู ุจุฑุง ูุดุฏุงุฑุฏู ุฏุฑ ููุฑุฏ ุงูุฒุงุด ุชุฃุฎุฑ ุงุณุชูุงุฏู ฺฉูุฏ.  
- ููุฏุงุฑ ูุทููุจ RTT ุจุณุชู ุจู ฺฉุงุฑุจุฑุฏ ูุชูุงูุช ุงุณุช (ูุซูุงู ุจุฑุง ฺฏููฺฏ ุฒุฑ 50ms ู ุจุฑุง ูุจุณุงุช ุฒุฑ 200ms ููุงุณุจ ุงุณุช).  

ุงฺฏุฑ ูุงุฒ ุจู ุชูุธู ุฏููุชุฑ ุฏุงุฑุฏุ ุจูพุฑุณุฏ! ๐


### **ICMP Packet Loss ฺุณุชุ**  
**Packet Loss** (ุงุฒ ุฏุณุช ุฑูุชู ุจุณุชูโูุง) ุฏุฑ **ICMP** ุจู ุฏุฑุตุฏ ุงุฒ ุจุณุชูโูุง **Ping** (ุฏุฑุฎูุงุณุชโูุง ICMP Echo Request) ุงุดุงุฑู ุฏุงุฑุฏ ฺฉู ุจู ููุตุฏ ูุฑุณุฏู ุง ูพุงุณุฎ ุขููุง (**ICMP Echo Reply**) ุจุฑฺฏุดุช ุฏุงุฏู ูุดุฏู ุงุณุช. ุงู ูุนุงุฑ ฺฉ ุงุฒ ุดุงุฎุตโูุง ููู ุจุฑุง ุณูุฌุด **ูพุงุฏุงุฑ ู ฺฉูุช ุดุจฺฉู** ุงุณุช.

---

### **ุนูู ุฑุงุฌ Packet Loss ุฏุฑ ICMP**
1. **ูุดฺฉูุงุช ุดุจฺฉู**:  
   - ุงุฒุฏุญุงู ุชุฑุงูฺฉ (Network Congestion)  
   - ุฎุฑุงุจ ุณุฎุชโุงูุฒุงุฑ (ุฑูุชุฑูุงุ ุณูุฆฺโูุงุ ฺฉุงุจูโูุง)  
2. **ูุณุฏูุฏุณุงุฒ ุนูุฏ**:  
   - ูุงุฑูุงูโูุง ุง ุชูุธูุงุช ุงููุช ฺฉู ุจุณุชูโูุง ICMP ุฑุง **Drop** ูโฺฉููุฏ.  
3. **ูุดฺฉูุงุช ุฏุฑ ูุณุฑุงุจ**:  
   - ุชูุธูุงุช ูุงุฏุฑุณุช Routing Table.  
4. **ูุดฺฉูุงุช ุฏุฑ ุณุฑูุฑ/ุฏุณุชฺฏุงู ููุตุฏ**:  
   - overload ุดุฏู CPU ุง ูุทุน ูููุช.  

---

### **ฺฺฏููู Packet Loss ุฑุง ุงูุฏุงุฒูโฺฏุฑ ฺฉููุ**
#### **1. ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ `ping`**  
ุฏุฑ ุฎุท ูุฑูุงู (Linux/Windows/macOS):  
```bash
ping -c 10 example.com  # ุงุฑุณุงู 10 ุฏุฑุฎูุงุณุช ICMP
```
**ูุซุงู ุฎุฑูุฌ**:  
```
10 packets transmitted, 8 received, 20% packet loss, time 9014ms
```
- **20% Packet Loss** ุนู ฒ ุจุณุชู ุงุฒ ฑฐ ุจุณุชู ุงุฑุณุงู ุงุฒ ุฏุณุช ุฑูุชูโุงูุฏ.

#### **2. ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ูพุดุฑูุชู**  
- **`mtr`** (ุชุฑฺฉุจ `ping` + `traceroute`):  
  ```bash
  mtr --report example.com
  ```
- **Prometheus + Blackbox Exporter** (ุจุฑุง ูุงูุชูุฑูฺฏ ูุฏุงูู):  
  ```yaml
  - job_name: 'blackbox-icmp'
    metrics_path: /probe
    params:
      module: [icmp_check]
    static_configs:
      - targets: ['8.8.8.8']  # Google DNS
  ```
  ุณูพุณ ูุชุฑฺฉ `probe_success` ุฑุง ุฏุฑ **Grafana** ุจุฑุฑุณ ฺฉูุฏ (ููุฏุงุฑ `0` ูุดุงูโุฏููุฏู Packet Loss ุงุณุช).

---

### **ููุงุฏุฑ ูุงุจู ูุจูู Packet Loss**
- **ฐูช**: ุงุฏูโุขู (ุงุชุตุงู ฺฉุงููุงู ูพุงุฏุงุฑ).  
- **ฑ-ฒูช**: ูุงุจู ุชุญูู ุจุฑุง ุงฺฉุซุฑ ุจุฑูุงููโูุง.  
- **>ตูช**: ูุงุฒ ุจู ุจุฑุฑุณ ููุฑ (ูุดฺฉู ุฏุฑ ุดุจฺฉู ุง ุณุฑูุณ).  
- **ฑฐฐูช**: ุงุชุตุงู ฺฉุงููุงู ูุทุน ุงุณุช ุง ICMP ูุณุฏูุฏ ุดุฏู.  

---

### **ุฑุงูโุญูโูุง ฺฉุงูุด Packet Loss**
1. **ุฑูุน ุงุฒุฏุญุงู ุดุจฺฉู**:  
   - ูุญุฏูุฏ ฺฉุฑุฏู ูพููุงโุจุงูุฏ ูุตุฑู.  
   - ุงุฑุชูุงุก ุฒุฑุณุงุฎุช ุดุจฺฉู (ูุซู ุณูุฆฺโูุง ุจูุชุฑ).  
2. **ุชูุธู ูุงุฑูุงู**:  
   - ูุทูุฆู ุดูุฏ ููุงูู ูุงุฑูุงู ุจุณุชูโูุง ICMP ุฑุง ูุณุฏูุฏ ููโฺฉููุฏ.  
3. **ุจุฑุฑุณ ูุณุฑุงุจ**:  
   - ุงุณุชูุงุฏู ุงุฒ `traceroute` ุจุฑุง ุงูุชู ฺฏุฑูโูุง ูุดฺฉูโุฏุงุฑ.  
4. **ุจุฑุฑุณ ุณูุงูุช ุณุฎุชโุงูุฒุงุฑ**:  
   - ุชุณุช ฺฉุงุจูโูุงุ ุฑูุชุฑูุง ู ุณูุฆฺโูุง.  

---

### **ุชูุงูุช Packet Loss ุจุง Latency (ุชุฃุฎุฑ)**
- **Packet Loss**: ุฏุฑุตุฏ ุจุณุชูโูุง ฺฏูโุดุฏู.  
- **Latency (RTT)**: ุฒูุงู ุฑูุช ู ุจุฑฺฏุดุช ุจุณุชูโูุง ูููู.  
ููฺฉู ุงุณุช ุดุจฺฉู **ุชุฃุฎุฑ ฺฉู ุฏุงุดุชู ุจุงุดุฏ ุงูุง Packet Loss ุจุงูุง ุฏุงุดุชู ุจุงุดุฏ** (ูุซูุงู ุฏุฑ ุดุจฺฉูโูุง ุจโุณู ุดููุบ).  

---

### **ุฌูุนโุจูุฏ**  
- **ICMP Packet Loss** ูุดุงูโุฏููุฏู ุนุฏู ุซุจุงุช ุดุจฺฉู ุงุณุช.  
- ุจุง ุงุจุฒุงุฑูุง ูุซู `ping`ุ `mtr` ู **Blackbox Exporter** ูโุชูุงู ุขู ุฑุง ูุงูุชูุฑ ฺฉุฑุฏ.  
- ููุงุฏุฑ ุจุงูุง ุขู (ุจุด ุงุฒ ตูช) ูุงุฒ ุจู ุนุจโุงุจ ุฏุงุฑุฏ.  

ุงฺฏุฑ ูุงุฒ ุจู ูุซุงู ุนูู ุฏุฑ ุชูุธู Prometheus ุง Grafana ุฏุงุฑุฏุ ุฎูุดุญุงู ูโุดูู ฺฉูฺฉ ฺฉูู! ๐